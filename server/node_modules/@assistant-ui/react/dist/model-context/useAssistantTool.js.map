{"version":3,"sources":["../../src/model-context/useAssistantTool.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { useAssistantApi } from \"../context/react/AssistantApiContext\";\nimport type { ToolCallMessagePartComponent } from \"../types/MessagePartComponentTypes\";\nimport type { Tool } from \"assistant-stream\";\n\nexport type AssistantToolProps<\n  TArgs extends Record<string, unknown>,\n  TResult,\n> = Tool<TArgs, TResult> & {\n  toolName: string;\n  render?: ToolCallMessagePartComponent<TArgs, TResult> | undefined;\n};\n\nexport const useAssistantTool = <\n  TArgs extends Record<string, unknown>,\n  TResult,\n>(\n  tool: AssistantToolProps<TArgs, TResult>,\n) => {\n  const api = useAssistantApi();\n\n  useEffect(() => {\n    if (!tool.render) return undefined;\n    return api.tools().setToolUI(tool.toolName, tool.render);\n  }, [api, tool.toolName, tool.render]);\n\n  useEffect(() => {\n    const { toolName, render, ...rest } = tool;\n    const context = {\n      tools: {\n        [toolName]: rest,\n      },\n    };\n    return api.modelContext().register({\n      getModelContext: () => context,\n    });\n  }, [api, tool]);\n};\n"],"mappings":";;;AAEA,SAAS,iBAAiB;AAC1B,SAAS,uBAAuB;AAYzB,IAAM,mBAAmB,CAI9B,SACG;AACH,QAAM,MAAM,gBAAgB;AAE5B,YAAU,MAAM;AACd,QAAI,CAAC,KAAK,OAAQ,QAAO;AACzB,WAAO,IAAI,MAAM,EAAE,UAAU,KAAK,UAAU,KAAK,MAAM;AAAA,EACzD,GAAG,CAAC,KAAK,KAAK,UAAU,KAAK,MAAM,CAAC;AAEpC,YAAU,MAAM;AACd,UAAM,EAAE,UAAU,QAAQ,GAAG,KAAK,IAAI;AACtC,UAAM,UAAU;AAAA,MACd,OAAO;AAAA,QACL,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,WAAO,IAAI,aAAa,EAAE,SAAS;AAAA,MACjC,iBAAiB,MAAM;AAAA,IACzB,CAAC;AAAA,EACH,GAAG,CAAC,KAAK,IAAI,CAAC;AAChB;","names":[]}