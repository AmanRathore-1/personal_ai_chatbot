{"version":3,"sources":["../../src/client/ModelContext.ts"],"sourcesContent":["import {\n  createContext,\n  tapContext,\n  withContextProvider,\n  Unsubscribe,\n} from \"@assistant-ui/tap\";\nimport { ModelContextProvider } from \"../model-context/ModelContextTypes\";\n\nexport type ModelContextRegistrar = ModelContextProvider & {\n  register: (provider: ModelContextProvider) => Unsubscribe;\n};\n\nconst ModelContextContext = createContext<ModelContextRegistrar | null>(null);\n\nexport const withModelContextProvider = <TResult>(\n  modelContext: ModelContextRegistrar,\n  fn: () => TResult,\n) => {\n  return withContextProvider(ModelContextContext, modelContext, fn);\n};\n\nexport const tapModelContext = () => {\n  const modelContext = tapContext(ModelContextContext);\n  if (!modelContext)\n    throw new Error(\"Model context is not available in this context\");\n\n  return modelContext;\n};\n"],"mappings":";AAAA;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,OAEK;AAOP,IAAM,sBAAsB,cAA4C,IAAI;AAErE,IAAM,2BAA2B,CACtC,cACA,OACG;AACH,SAAO,oBAAoB,qBAAqB,cAAc,EAAE;AAClE;AAEO,IAAM,kBAAkB,MAAM;AACnC,QAAM,eAAe,WAAW,mBAAmB;AACnD,MAAI,CAAC;AACH,UAAM,IAAI,MAAM,gDAAgD;AAElE,SAAO;AACT;","names":[]}