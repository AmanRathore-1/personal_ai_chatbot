{"version":3,"sources":["../../../src/context/providers/AttachmentByIndexProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { type FC, type PropsWithChildren } from \"react\";\n\nimport {\n  AssistantProvider,\n  useAssistantApi,\n  useExtendedAssistantApi,\n} from \"../react/AssistantApiContext\";\nimport { DerivedScope } from \"../../utils/tap-store/derived-scopes\";\n\nexport const MessageAttachmentByIndexProvider: FC<\n  PropsWithChildren<{\n    index: number;\n  }>\n> = ({ index, children }) => {\n  const baseApi = useAssistantApi();\n  const api = useExtendedAssistantApi({\n    attachment: DerivedScope({\n      source: \"message\",\n      query: { type: \"index\", index },\n      get: () => baseApi.message().attachment({ index }),\n    }),\n  });\n\n  return <AssistantProvider api={api}>{children}</AssistantProvider>;\n};\n\nexport const ComposerAttachmentByIndexProvider: FC<\n  PropsWithChildren<{\n    index: number;\n  }>\n> = ({ index, children }) => {\n  const baseApi = useAssistantApi();\n  const api = useExtendedAssistantApi({\n    attachment: DerivedScope({\n      source: \"composer\",\n      query: { type: \"index\", index },\n      get: () => baseApi.composer().attachment({ index }),\n    }),\n  });\n\n  return <AssistantProvider api={api}>{children}</AssistantProvider>;\n};\n"],"mappings":";;;AAIA;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,OACK;AACP,SAAS,oBAAoB;AAgBpB;AAdF,IAAM,mCAIT,CAAC,EAAE,OAAO,SAAS,MAAM;AAC3B,QAAM,UAAU,gBAAgB;AAChC,QAAM,MAAM,wBAAwB;AAAA,IAClC,YAAY,aAAa;AAAA,MACvB,QAAQ;AAAA,MACR,OAAO,EAAE,MAAM,SAAS,MAAM;AAAA,MAC9B,KAAK,MAAM,QAAQ,QAAQ,EAAE,WAAW,EAAE,MAAM,CAAC;AAAA,IACnD,CAAC;AAAA,EACH,CAAC;AAED,SAAO,oBAAC,qBAAkB,KAAW,UAAS;AAChD;AAEO,IAAM,oCAIT,CAAC,EAAE,OAAO,SAAS,MAAM;AAC3B,QAAM,UAAU,gBAAgB;AAChC,QAAM,MAAM,wBAAwB;AAAA,IAClC,YAAY,aAAa;AAAA,MACvB,QAAQ;AAAA,MACR,OAAO,EAAE,MAAM,SAAS,MAAM;AAAA,MAC9B,KAAK,MAAM,QAAQ,SAAS,EAAE,WAAW,EAAE,MAAM,CAAC;AAAA,IACpD,CAAC;AAAA,EACH,CAAC;AAED,SAAO,oBAAC,qBAAkB,KAAW,UAAS;AAChD;","names":[]}