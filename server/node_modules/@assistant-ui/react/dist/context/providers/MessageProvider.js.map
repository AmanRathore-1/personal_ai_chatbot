{"version":3,"sources":["../../../src/context/providers/MessageProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { type FC, type PropsWithChildren } from \"react\";\nimport {\n  AssistantProvider,\n  useExtendedAssistantApi,\n} from \"../react/AssistantApiContext\";\nimport { useResource } from \"@assistant-ui/tap/react\";\nimport { asStore } from \"../../utils/tap-store\";\nimport {\n  ThreadMessageClientProps,\n  ThreadMessageClient,\n} from \"../../client/ThreadMessageClient\";\nimport { DerivedScope } from \"../../utils/tap-store/derived-scopes\";\n\nexport const MessageProvider: FC<\n  PropsWithChildren<ThreadMessageClientProps>\n> = ({ children, ...props }) => {\n  const store = useResource(asStore(ThreadMessageClient(props)));\n  const api = useExtendedAssistantApi({\n    message: DerivedScope({\n      source: \"root\",\n      query: {},\n      get: () => store.getState().api,\n    }),\n    subscribe: store.subscribe,\n    flushSync: store.flushSync,\n  });\n\n  return <AssistantProvider api={api}>{children}</AssistantProvider>;\n};\n"],"mappings":";;;AAGA;AAAA,EACE;AAAA,EACA;AAAA,OACK;AACP,SAAS,mBAAmB;AAC5B,SAAS,eAAe;AACxB;AAAA,EAEE;AAAA,OACK;AACP,SAAS,oBAAoB;AAgBpB;AAdF,IAAM,kBAET,CAAC,EAAE,UAAU,GAAG,MAAM,MAAM;AAC9B,QAAM,QAAQ,YAAY,QAAQ,oBAAoB,KAAK,CAAC,CAAC;AAC7D,QAAM,MAAM,wBAAwB;AAAA,IAClC,SAAS,aAAa;AAAA,MACpB,QAAQ;AAAA,MACR,OAAO,CAAC;AAAA,MACR,KAAK,MAAM,MAAM,SAAS,EAAE;AAAA,IAC9B,CAAC;AAAA,IACD,WAAW,MAAM;AAAA,IACjB,WAAW,MAAM;AAAA,EACnB,CAAC;AAED,SAAO,oBAAC,qBAAkB,KAAW,UAAS;AAChD;","names":[]}