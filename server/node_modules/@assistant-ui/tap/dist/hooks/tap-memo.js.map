{"version":3,"sources":["../../src/hooks/tap-memo.ts"],"sourcesContent":["import { tapRef } from \"./tap-ref\";\nimport { depsShallowEqual } from \"./depsShallowEqual\";\n\nexport const tapMemo = <T>(fn: () => T, deps: readonly unknown[]) => {\n  const dataRef = tapRef<{ value: T; deps: readonly unknown[] }>();\n  if (!dataRef.current) {\n    dataRef.current = { value: fn(), deps };\n  }\n\n  if (!depsShallowEqual(dataRef.current.deps, deps)) {\n    dataRef.current.value = fn();\n    dataRef.current.deps = deps;\n  }\n\n  return dataRef.current.value;\n};\n"],"mappings":";AAAA,SAAS,cAAc;AACvB,SAAS,wBAAwB;AAE1B,IAAM,UAAU,CAAI,IAAa,SAA6B;AACnE,QAAM,UAAU,OAA+C;AAC/D,MAAI,CAAC,QAAQ,SAAS;AACpB,YAAQ,UAAU,EAAE,OAAO,GAAG,GAAG,KAAK;AAAA,EACxC;AAEA,MAAI,CAAC,iBAAiB,QAAQ,QAAQ,MAAM,IAAI,GAAG;AACjD,YAAQ,QAAQ,QAAQ,GAAG;AAC3B,YAAQ,QAAQ,OAAO;AAAA,EACzB;AAEA,SAAO,QAAQ,QAAQ;AACzB;","names":[]}